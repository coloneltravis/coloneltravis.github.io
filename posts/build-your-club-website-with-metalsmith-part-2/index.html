<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css"><link rel="stylesheet" href="/css/jakewrite.css" type="text/css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script type="text/javascript" src="/js/bootstrap.min.js"></script><title>Build Your Club Website with Metalsmith - Part 2</title><title>JakeWrite</title><body><div class="header"><a href="/" class="site-title">Jake Write </a><div class="site-desc">A Writing Blog for Jake Bourne</div></div><nav role="banner" class="navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#mainbar" aria-expanded="false" aria-controls="mainbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="mainbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/pages/blog">Blog</a></li><li><a href="/pages/work-with-me">Work with me</a></li><li><a href="/pages/about-me">About me</a></li><li><a href="/pages/contact-me">Contact me</a></li></ul></div></div></nav><div class="container"><div class="row"><div class="rightsidebar col-xs-12 col-sm-3 col-md-3"><h2>Categories</h2><ul class="category-list"><li><a href="/pages/techie-stuff">Techie stuff</a></li><li><a href="/pages/fiction">Fiction</a></li><li><a href="/pages/how-to-guides">How-to Guides</a></li><li><a href="/pages/running">Running</a></li><li><a href="/pages/walking">Walking</a></li></ul><h2>Subscribe<a href="/feed.xml"> via RSS</a></h2></div><div class="content col-xs-12 col-sm-9 col-md-9"><h1>Build Your Club Website with Metalsmith - Part 2</h1><div class="post-header"><div class="post-comments"><span class="glyphicon glyphicon-comment"></span><a href="/posts/build-your-club-website-with-metalsmith-part-2/#disqus_thread" data-disqus-identifier="build-your-clubwebsite-2" class="comment-count">Build Your Club Website with Metalsmith - Part 2</a></div><div class="post-metadata"><div class="post-date">Published: 08 December 2016</div><div class="post-author">By Jake Bourne</div></div></div><div class="post-content"><p><em><strong>In part 1 we installed and set up our Metalsmith environment.  Now we are ready to start getting our hands dirty with learning how to create our layouts using the Pug templating language.</strong></em></p>
<h2 id="designing-the-layout-templates">Designing the Layout Templates</h2>
<p>This is where we design our layout templates using the Pug templating language. Layout templates define how our content is structure on each page and how to navigate between pages.  Some pages will share the same content such as all events or news items.  However, some pages may require their own template for something like a blog.</p>
<p>What type of content is needed on a club website?</p>
<ul>
<li>Title banner</li>
<li>Navigation bar</li>
<li>News</li>
<li>Events</li>
<li>Membership signup</li>
<li>FAQs</li>
<li>Contact form</li>
</ul>
<p>Some clubs may have two pages for events to separate the club&#39;s regular meetings and more social-oriented events.</p>
<p>Firstly, we&#39;ll create a default template for every page to inherit from.</p>
<p>In the /layouts folder, create a file called <code>default.pug</code> and type to contain this text:-</p>
<pre><code>doctype html
html
  head
    script(type=&#39;text/javascript&#39; src=&#39;/assets/js/bootstrap.min.js&#39;)
    link(href=&#39;css/bootstrap.min.css&#39; rel=&#39;stylesheet&#39; type=&#39;text/css&#39;)
    link(href=&#39;css/styles.css&#39; rel=&#39;stylesheet&#39; type=&#39;text/css&#39;)
  body
</code></pre><p>You may notice that Pug is a very simplified version of HTML. The tags have omitted the familiar &lt; and &gt; characters.</p>
<p>The basic rules of Pug are:-</p>
<ul>
<li>Tags are functions and their attributes are the arguments.</li>
<li>No ending tags</li>
<li>Containing elements are indented within its parent</li>
<li>Indents should be EITHER tabs OR spaces.  Not both.</li>
</ul>
<p>Take a look at <a href="http://pugjs.org">http://pugjs.org</a> for further reference about Pug.</p>
<p>Let&#39;s take the two common elements which will show on every page, the title banner and a navigation menu.</p>
<p>For now, we&#39;ll create a basic level 1 heading for the title banner which we can style in an appealing font.</p>
<p>Underneath the body tag, indent the following text:</p>
<pre><code>`  h1 My Club Website`
</code></pre><p>The navigation menu will be made up from a collection of pages which we will loop through to generate an unordered list.</p>
<pre><code>    ul.navbar.navbar
        each page in collections.pages
            li
                a(href=&#39;/&#39;+page.path)= page.title

    block body
</code></pre><p>Now that we have a navigation menu, we had better create some pages.  In the &#39;src&#39; folder, create a sub-folder <code>pages</code> and create Markdown files for each item on the navigation menu. The <code>block body</code> line indicates where the content from the Markdown files should be placed.</p>
<pre><code>pages/
    home.md
    events.md
    membership.md
    faqs.md
    contact.md
</code></pre><p>Markdown files contain a <strong>YAML</strong> section at the top which configures metadata for the page. The page title and layout template will be set here, so that Metalsmith knows how to build the HTML.</p>
<p>The YAML header section will have the following format:-</p>
<pre><code>---
title: &lt;page title&gt;
layout:  &lt;layout template&gt;.pug
---
</code></pre><p>So for the events page, it may look like:-</p>
<pre><code>---
title: Events
layout: events.pug
---
</code></pre><p>Let&#39;s go and create our layout templates in the /layouts folder so we can link up our navigation menu.</p>
<p>The home page will show a welcome message and some introductory text about the club. Then we shall show the latest news for the club.
Create a layout template named <code>home.pug</code> in the layouts folder and add the following text:-</p>
<pre><code>extends default.pug

block body
    div!= contents

    div.news
        each article in news
            span.col
                a(href=&#39;/&#39;+article.path)= article.title
            span.col= article.date
</code></pre><p>The events page will be a list of events in chronological order. Create <code>events.pug</code> in the layouts folder with the following text:-</p>
<pre><code>extends default.pug

h1 Events

div.events
    table
        th Date
        th Event Title
        th Place
        th Organiser

    each event in events
        td
            event.eventDate
        td
            a(href=&#39;/&#39;+events.path)= event.title
        td
            event.eventPlace
        td
            event.organiser
</code></pre><p>Both the news and events are displayed by looping through collections. Each collection is a list of Markdown files containing the content and metadata.  </p>
<p>In the <em>src</em> folder, create two new sub-folders named <em>news</em> and <em>events</em>. We shall add some test articles and events shortly.  You just need to create two more layout templates for the actual news articles and event pages themselves.</p>
<p>Create the layout template for news: article.pug</p>
<pre><code>extends default.pug

h1= title

p strong Date:
p.articleDate= articleDate

div.articleText!= contents
</code></pre><p>Create the layout template for an event: event.pug</p>
<pre><code>extends default.pug

h1= title

h4 Date of Event:
p.eventdate= eventDate

h4 Place
p.place= eventPlace

h4 Organiser:
p.organiser= organiser

div.eventdesc!= contents
</code></pre><p>The FAQs and membership page will not need any special layout so they can simply use the default layout to structure the content in the page files.</p>
<p>Likewise for the contact page, although this will contruct a form to allow visitors to enter their name and message to send.</p>
<h2 id="writing-your-home-page">Writing your Home Page</h2>
<p>Your home page will be the first page which is displayed when someone visits your URL. It will live in the main folder of you web site which means we should create <code>index.md</code> under the <em>src</em> folder. This will then be transformed into <code>index.html</code>.</p>
<p>The <code>index.md</code> will contain the YAML header to link to the <code>home.pug</code> layout template, followed by the Markdown for the welcome message.  The links to the news articles will be then be inserted after the welcome message.</p>
<pre><code>---
title: My Club Website
layout: home.pug
---

# Welcome to My Club Website

Congratulations, you have found the web site for My Club Website.

We are a great club which has lots of fun activities and events. Our members are really friendly and down-to-earth coming from all walks of life.

Don&#39;t wait - go to our [/membership](members) page to join, or just come along to one of our new members&#39; night to have a chat with us.
</code></pre><h2 id="writing-a-news-article">Writing a News Article</h2>
<p>You&#39;ve created the layouts and the home page, so let&#39;s create our first news article to let members know about the new website launch.</p>
<pre><code>---
title: New website launching soon...
articleDate: 2016-11-30
layout: news.pug
---

We will shortly be launching our new web site.

The club Committee has decided to avoid going down the same route as other clubs which use Wordpress to host their websites.  Instead we will be using the Metalsmith static site generator to produce a fast and secure website.  This means that it will be unaffected by a sluggish databases and immune to hackers on the dark-side of the web.

As a club member you will be able to leave comments on articles using your Facebook or Twitter accounts. For those with neither, you will be able to setup a Disqus account which is a popular host for discussion forums.
</code></pre><p>Save the news article in <code>src/news</code>, giving the file a name which you can easily identify it. A good technique is to prefix it with the type of page and use the date as a suffix.  For example, <code>news_20161130.md</code></p>
<h2 id="adding-some-events">Adding some Events</h2>
<p>What is a club without any events. The time has come to add some content to our events page. An event page will be based on the <code>event.pug</code> layout template.</p>
<pre><code>---
title: New Member&#39;s Night
eventDate: 2016-12-01
eventPlace: The Spotted Donkey
Organiser: Nicky
layout: event.pug
---

Come along to our last new member&#39;s night of the year.

Nicky will meet and greet you at the bar and introduce you to our friendly club members.
</code></pre><p>Save the news article in <code>src/events</code>, giving the file a name which you can easily identify it.  For example, <code>event_20161201.md</code></p>
<p>The Membership and FAQs pages are plain content so we&#39;ll leave these for later.</p>
<p>In the next part, we will look at creating our collections which use these layout templates.</p>
</div><div class="social-links"><a href="https://www.facebook.com/sharer/sharer.php?u=http://jakewrite.com/posts/build-your-club-website-with-metalsmith-part-2"><img src="/img/icons/facebook.png"/></a><a href="https://twitter.com/intent/tweet?status=@jake_write http://jakewrite.com/posts/build-your-club-website-with-metalsmith-part-2"><img src="/img/icons/Twitter-32.png"/></a><a href="https://plus.google.com/share?url=http://jakewrite.com/posts/build-your-club-website-with-metalsmith-part-2"><img src="/img/icons/googleplus.png"/></a></div><div class="comments"><div id="disqus_thread"></div><script>var disqus_shortname = 'jakewrite';

var disqus_config = function() {
  this.page.url = 'http://jakewrite.com/' + 'posts/build-your-club-website-with-metalsmith-part-2';
  this.page.identifier = 'build-your-clubwebsite-2';
};

(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the<a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by<span class="logo-disqus">Disqus</span></a></div><div id="footer"><p>Copyright &copy; 2016 JakeWrite</p></div><script id="dsq-count-scr" src="//jakewrite.disqus.com/count.js" async></script></div></div></div></body></head></html><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46793855-5', 'auto');
  ga('send', 'pageview');
</script>
